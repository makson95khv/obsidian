Кратко опишу процесс от добавления диска в систему (физически подключение диска) до возможности записывать файлы на этот диск:
1. Подключить диск и через `lsblk` проверить, что диск появился
2. Разметить диск через утилиту `fdisk` (есть и другие, например `parted` для больших дисков, или `gdisk` (может работать с `gpt - разметкой`))
3. Отформатировать диск через `mkfs` (пример: `mkfs.ext4 /dev/sdb1`)
4. Создать точку монтирования через `mkdir` (по факту, просто создается папка, которая будет лежать на этом диске)
5. Смонтировать через `mount` (это будет временно до перезагрузки) или через конфиг **/etc/fstab** (на постоянку) **Правильно говорить: Диск монтируется В каталог (каталог это точка монтирования)**
6. Настроить права на запись в этот каталог через `chown/chmod`
## Просмотр дисков
`Fdisk` - утилита для разбиения жесткого диска. Вызывается как `fdisk /dev/sdb (название жесткого диска)` и далее по инструкции выбираются те команды, которые нужны. Например, создание нового раздела - **n**, записать все изменения - **w** и т.д.
- `-l` - посмотреть существующие диски
`parted` - мощная утилита. Более обширный функционал по работе с дисками.
- `gparted` - графический вариант
`Mkfs` - утилита для создания файловой системы
- После создания раздела можно создать файловую систему (пример: `mkfs.ext4 /dev/sdb1` - создаст систему *ext4*)
`lsblk` - покажет диски и разделы в древовидной форме
- `-f` - можно посмотреть типы файловых систем
`blkid` - покажет диски (можно посмотреть uid)
`ll -R /dev/disk` - можно посмотреть идентификаторы устройств
`df` - для просмотра используемого места
- `-h` - удобный вывод
- `-i` - покажет inodes
`du` - показывает размер папок
- `--summarize` - покажет общий размер папки, а не всех вложеных
`swapon -s` - покажет файл подкачки
`swapon /deb/sdb1` - включить раздел подкачки
`swapoff /deb/sdb1` - выключить раздел подкачки
## Монтирование
`mount` - утилита монтирования диска в каталог (пример: `mount /deb/sdb1`)
`umount` - размонтирование
*/etc/fstab* - файл, в котором прописаны примонтированные диски по их UUID (останутся после перезагрузки)
## Проверка и восстановление
`fsck /dev/sdb1` - проверка и восстановление файловой системы
- `-t` - указать тип файловой системы (обычно сама находит)

`debugfs -w` - утилита для устранения ошибок в файловых системах ext
- `-ls` - вызывается внутри команды. Показывает файлы и папки в файловой системе 
- `lsdel` - показывает удаленные иноды
- `undel` - можно восстановить удаленный файл
`dumpe2fs` - можно вывести дамп информации
`tune2fs` - инструмент настройки параметров файловой системы
## Квоты дисков
Выставляются квоты на раздел (в некоторых файловых системах можно и на отдельные каталоги). Если через `edquota` включить настройку, то будет **soft** и **hard** для информации. Soft разрешает превысить заданный порог на неделю (меняется через `edquota -t`), а Hard не допускает превышение. Так же тут есть квоты на иноды, система та же.
При выполнении команд нужно всегда прописывать путь к разделу с квотой

`quotaon` - включение квоты
`quotaoff` - отключение квоты
`edquota` - редактирование квоты
- `-t` - для выставления времени soft
- `sudo edquota -u name` - открыть настройки квоты
`repquota` - отчеты по квотам
- Пример: `sudo repquota /mnt/disk` 