Буду писать все заметки тут, стараясь разбивать по категориям. А уже потом отсюда раскидаю их по уже созданным категориям.

## Функции
Функции и алиасы содержаться в файлах **rc**
Создание функции. В файле *.bashrc* создавали функцию (рядом с алиасами). По факту - это алиас, который выполняет разом несколько команд. Как скрипт, но вызов по заданному названию. **Обязательно** нужно ставить `;` после каждой строки с командой. Это разделитель команд. 
Так же нужно перезапустить bash или выполнить `source .bashrc`, чтобы изменение файла применилось.

Пример функции **без** аргументов:
```
function NAME() {
echo Hello;
echo my home directory:
echo $HOME
}
```

Пример функции **с** аргументом - функция удаляет в директории файлы log.txt, затем создает новый с названием переданного *аргумента№1* и вписывает в него дату, а затем дописывает выборку *аргумент№2*-строк по *аргументу№1* из файла лога:
```
function showlog() {
rm /home/user/*log.txt;
date > $1_log.txt;
grep $1 /var/log/auth.log | tail -$2 >> $1_log.txt;
}
```
## Переменные
Переменные находятся в файлах с профилями
**Переменные** - работают в пределах текущей оболочки
**Переменные среды** - работают во всех дочерних процессах. Чтобы добавить созданные переменные и они работали во всех консолях, вызванных из текущей - нужно их экспортировать. А если нужно, чтобы переменные работали и в новых консолях - нужно добавить их в файле *.profile*
### Команды
`set` - вывод всех переменных/функций
`unset` - удаление переменных
`export` - превращает переменную в переменную среды
`env` - выводит переменные среды
#### Пример дополнения переменной
PATH=$PATH:/home/user/test - добавит к директориям в PATH еще одну
## bash-скрипты
Учусь писать скрипты. Буду заносить сюда кое-какие команды.
```
Подстановка команд:
X=$(ls -a) ИЛИ X=`ls -a`
Можно в переменную передать результат команд
```

### Конструкции скриптов
```
Условная конструкция:
if [ условие ]
then
	команды
else
	команды
fi
```

```
Цикл FOR
for x in 1 2 3
do
	echo "number $x"
done
```

```
Цикл WHILE
x=10
while [ $x -ne 20 ]
do
	echo "number $x"
	x=$($x+1)
done
```
### Прочие команды
`read` - считать введенное значение
`seq 3 8` - последовательность от 3 до 8
### Программа test
`test` - проверяет типы файлов и сравнивает значения. Команда часто используется в скриптах. 
`-x` - исполняемый файл
`-e` - файл существует
`-eq` - значения равны
`-ne` - значения не равны
`-z` - существует ли значение

```
К примеру можно проверить, является ли файл исполняемым:
test -x script (путь к файлу)
echo $?
Если у файла есть права на исполнение, то значение переменной станет 0, иначе другое значение. Само выполнение команды test не отдаёт никакого ответа. Нужно проверять переменную.
```

На выходе дает значение переменной `$?`:
`0` - результат положительный
`не 0` - результат отрицательный

```
Например эта команда проверяет, 5 больше 2 или нет:
test 5 -gt 2
echo $?
```

## Базы данных и SQL-запросы
Установили БД. `sudo apt install mysql-server`
### Опции mysq
`--local-infile=1` - запустив с таким параметром можно импортировать файлы в БД
### Команды mysql
`CREATE DATABASE cars;` - создать БД
`USE cars;` - переключится на БД
`CREATE TABLE new (brand VARCHAR(10), model VARCHAR(10), year YEAR, price INT);` - создать таблицу с полями и типами
`SHOW TABLES;` - показать таблицы
`SHOW DATABASES;` - показать БД

**Пример таблицы:**

| brand | model  | year | price  |
| :---: | :----: | :--: | :----: |
|  kia  | cerato | 2014 | 780000 |
| ford  |  kuga  | 2015 | 620000 |

```
SELECT * FROM new; - выборка из таблицы
SELECT * FROM new WHERE year='2015' AND brand='KIA'; - выборка с условием
SELECT * FROM new JOIN used ON new.brand = used.brand; - объединение и выборка из двух таблиц
SELECT * FROM new ORDER BY price; - отсортирует

UPDATE new SET model='KUGA' WHERE model='FOCUS'; - изменить данные

DELETE FROM new WHERE model='MATIZ'; - удалить из таблицы
INSERT INTO cars (brand, model, year) VALUES ('DAEWOO', 'MATIZ', '2014'); - добавить запись в таблицу
```
