[Atlassian - обучение](https://www.atlassian.com/ru/git/glossary#commands)
## Команды
### Настройка
`git init` - создает новый репозиторий Git в текущей директории
- `--bare` - создать пустой репозиторий
`git clone` - копирует удалённый репозиторий Git на локальную машину, включая все ветки и историю изменений
- `[url]` - адрес репозитория
- `--branch {name_branch}` - клонировать конкретную ветку
- `--depth [num]` - частичное клонирование с ограничением коммитов
`git config` - настройка параметров Git для текущего пользователя, репозитория или системы
- `--global / --local / --system` - настройки для текущего пользователя/репозитория/системы
- `--global user.name {name}` - прописать в глобальный конфиг имя пользователя
- `--global user.email {email}` - прописать в глобальный конфиг email пользователя
- `--global core.editor "nano"` - укажет редактор по умолчанию
`git fetch` - загружает изменения из удалённого репозитория, но не сливает их с локальными ветками
- `[remote]` - имя удалённого репозитория, например **origin**
- `[branch]` - конкретная ветка для загрузки
- `--all` - загрузить изменения со всех удалённых репозиториев
- `--prune` - удалить ссылки на несуществующие удалённые ветки
`git pull` - загружает изменения из удалённого репозитория и сразу сливает их с текущей веткой
- `[remote]` - удалённый репозиторий
- `[branch]` - удалённая ветка для слияния
- `--rebase` - перебазировать локальные коммиты поверх новых, вместо слияния
`git remote` - управляет подключенными удалёнными репозиториями (добавление, просмотр, удаление и настройка)
- `-v` - показать подробный список удалённых репозиториев
- `add [name] [URL]` - добавить новый удалённый репозиторий
- `remove [name]` - удалить удалённый репозиторий
- `rename [old_name] [new_name]` - переименовать удалённый репозиторий
- `set-url [name] [new_URL]` - изменить URL удалённого репозитория 
### Изменение репозитория
`git add`- добавление (индексация) изменений из рабочей директории для последующего коммита
- `-A или . или --all` - добавить в индексацию все файлы
- `-p` - интерактивный режим
- `-u` - добавить только измененные/удаленные файлы, без новых
`git branch` - управление ветками. Создает/переименовывает/удаляет и показывает список веток
- `{name_branch}` - создать новую ветку с заданным именем
- `-f` - переместить ветку на нужный коммит
- `-a` - показать все ветки
- `-d` - удалить локальную ветку, если изменения слиты
- `-D` - принудительно удалить ветку, даже если изменения не слиты
- `-m` - переименовать текущую ветку
`git checkout` - переключение между ветками, коммитами, файлами. А так же восстанавливает файлы из индекса/истории
- `{name_branch}` - переключиться на указанную ветку
- `-b {name_branch}` - создать новую ветку и переключиться на неё
- `[file]` - отменить изменения в файле до состояния последнего коммита
- `-- [file]` - восстановить файл из индекса (если еще не был закоммичен), или из последнего коммита (если не был добавлен в индекс)
- `^` - переместиться на один коммит выше
- `~{num}` - переместиться на **num** коммитов выше
`git switch` - переключение между ветками или создание новой (более безопасная альтернатива **checkout**)
- `{name_branch}` - переключиться на существующую ветку
- `-c {name_branch}` - создать и переключиться на новую ветку
- `-` - переключиться на предыдущую
`git stash` - временно сохраняет незакоммиченные изменения (включая изменения в рабочей директории и индексе), чтобы можно было переключиться на другую ветку без коммита
- `push -m "описание"` - сохранить изменения с описанием
- `list` - покажет все отложенные изменения
- `apply {stash@{n}}` - вернуть изменения из **stash**, но не удалять его из списка
- `pop {stash@{n}}` - вернуть изменения и удалить **stash** из списка
- `drop {stash@{n}}` - удалить отложенное изменение
- `clear` - удалить все отложенные изменения
`git commit` - фиксирует изменения, добавленные в индекс, создавая новый коммит в истории репозитория
-  `-m "comment"` - создание коммита сразу с комментарием (без этого ключа откроется редактор для ввода комментария)
- `-a` - автоматически добавить все измененные/удаленные файлы в индекс и сделать коммит (кроме новых файлов)
- `git commit --amend` - позволяет внести изменения в последний коммит
- `-no-edit` - выполнит коммит без изменения комментария
`git merge` - объединяет изменения из указанной ветки в текущую ветку, создавая коммит слияния (если необходимо)
- `[branch]` - ветка, изменения из которой будут слиты с текущей
- `--squash` - объединить изменения из указанной ветки в один набор изменений, без создания коммита
- `-m "comment"` - комментарий для коммита
`git push` - отправляет локальные коммиты в удалённый репозиторий, обнуляя указанную ветку
- `[remote]` - удалённый репозиторий
- `[branch]` - удалённая ветка
- `-u` - связать локальную ветку с удалённой для будущих **push/pull** без указания ветки
- `-f` - принудительная перезапись истории
- `--force-with-lease` - безопасный **force**, проверяет, что никто не обновил ветку до нас
`git rebase` - преобразует текущую ветку на другую ветку, переписывая историю коммитов для более линейной структуры
- `[branch]` - ветка, на которую перебазируются коммиты
- `-i` - интерактивный режим
- `--continue` - продолжить перебазирование после разрешения конфликтов
- `--abort` - отменить перебазирование и вернуться к исходному состоянию
- `--skip` - пропустить текущий коммит при конфликте
### Проверка репозитория
`git status` - показывает текущее состояние рабочей директории и индекса (измененные, добавленные и неотслеживаемые)
- `-s` - краткий вывод (**M** - modified, **A** - added, **??** - untracked)
- `-b` - показать информацию о текущей ветке
`git log` - отображает историю коммитов в текущей ветке с подробной информацией (хэш, автор, дата, комментарий)
- `--oneline` - вывести коммиты построчно
- `--graph` - визуализирует ветвление истории
- `-p` - полные подробности каждого коммита
- `-n [num]` - вывести определенное число коммитов
- - `--stat` - покажет краткие подробности каждого коммита
`git reflog` - показывает журнал всех перемещений указателя **HEAD**
- `show` - показать журнал
- `-n [num]` - количество записей
`git diff` - показывает различия между изменениями в рабочей директории, индексе и коммитах
- `--staged` - сравнение индекса и последнего коммита
- `[branch/commit]` - сравнение рабочей директории с указанной веткой/коммитом
- `[branch1]...[branch2]` - разница между двумя ветками/коммитами
- `--name-only` - только имена измененных файлов
`git reflog` - покажет историю всех перемещений указателя HEAD (переключений веток, коммитов, сбросов, слияний и т.д.), включая потерянные коммиты
- `show` - показать журнал (идет по умолчанию)
- `--relative-date` - отображать в формате "2 часа назад"
- `-n [num]` - вывести **n** последних записей
### Отмена изменений
`git clean` - удаляет неотслеживаемые файлы из рабочей директории (файлы, которые не добавлены в Git и не входят в **.gitignore**)
- `-n` - выведет список файлов, которые будут удалены (как предварительный просмотр)
- `-f` - отменить изменения в рабочем каталоге (вернет еще не проиндексированные файлы)
- `-d` - так же удалит директории
- `-x` - удалит так же игнорируемые файлы
- `-i` - интерактивный режим
`git rm` - удаляет файлы из индекса и рабочей директории, регистрируя удаление для следующего коммита
- `[file]` - удалить файл
- `--cached` - удалить файл только из индекса, оставив в рабочей директории
- `-r` - рекурсивное удаление для папок
`git restore` - восстанавливает файлы рабочей директории или индекса до состояния из последнего коммита или определенного коммита
- `[file]` - отменить изменения в файле, вернув в состояние последнего коммита
- `--staged [file]` - убрать файл из индекса, но сохранить изменения в рабочей директории
- `--source=[commit]` - восстановить файл из указанного коммита
`git reset` - отменяет коммиты или изменения в индексе, перемещая указатель на выбранный коммит
- `--soft [commit]` - отменяет коммиты, но сохраняет изменения в индексе
- `--mixed [commit]` - отменяет коммиты и сбрасывает индекс, но сохраняет изменения в рабочей директории
- `--hard [commit]` - полностью удаляет коммиты, изменения в индексе и рабочей директории
`git revert` - отменяет изменения, внесённые указанным коммитом, создавая новый коммит с обратными изменениями (без переписывания истории)
- `[commit]` - хэш коммита, который нужно отменить
- `-n` - отменить изменения, но не создавать коммит
- `-m [num_parent]` - для отмены слияния, указывает, какую ветку считать основной
## Конфиги
`--local` - конфиг локального уровня, хранится в каталоге репозитория **.git/config**
`--global` - конфиг для пользователя системы, хранится в каталоге пользователя **~/.gitconfig**
`--system` - конфиг для всей системы, хранится в /etc/gitconfig (для linux) или в **C:\ProgrammData\Git\config**

## Терминология
**Ветка** - ветка представляет собой независимое направление разработки. Ветки можно рассматривать как способ запросить новый рабочий каталог, раздел проиндексированных файлов или историю проекта. Новые коммиты записываются в историю текущей ветки, что приводит к образованию форка в истории проекта.

**Форк** - чтобы не использовать один репозиторий на сервере в качестве «центральной» базы кода, можно воспользоваться ответвлениями (форками), чтобы у каждого разработчика был репозиторий на сервере. Таким образом, у каждого автора будет не один, а два репозитория Git: один закрытый локальный и один открытый на сервере.

**Head** - указатель на текущий снимок в Git. По сути дела, команда git checkout просто обновляет указатель HEAD, чтобы он ссылался на указанную ветку или коммит. Когда HEAD указывает на ветку, Git молчит, но при попытке переключиться на коммит система переходит в состояние detached HEAD (открепленный указатель HEAD).
## Шпаргалка

![[info GIT.pdf]]